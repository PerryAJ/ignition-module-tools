buildscript {
    repositories {
        // axion release plugin is not available in gradle plugin portal, add maven central to resolve
        mavenCentral()
    }
}

plugins {
    id "base"
    id "idea"
    id 'pl.allegro.tech.build.axion-release' version '1.12.0'
    id "com.diffplug.spotless" version "5.0.0" apply false
    id 'org.jetbrains.kotlin.jvm' version '1.3.72' apply false
}

version = "0.0.1-SNAPSHOT.2"

wrapper {
    gradleVersion "6.5.1"
    distributionType org.gradle.api.tasks.wrapper.Wrapper.DistributionType.ALL
}

task runCli(type: Exec) {
    dependsOn ":generator-cli:nativeImage"
    workingDir "$projectDir/module-generator/cli/build/graal"

    commandLine "./ignition-module-gen"
}
